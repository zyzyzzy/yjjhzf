<?php/** * 生成唯一的系统订单号 * @param $leng * @return string */function Createsysordernumber($leng = 32,$n = 1){    //如果没有设置长度，就给一个默认长度    /*    if (!$leng) {        $leng = 6;    }    //设置长度范围    if ($leng < 5 || $leng > 32) {        return false;    }    */    $sysordernumber = randpw($leng, 'ALL');  //2019-01-27 大写字母和小写字母和数字    return $sysordernumber;    //2019-01-27如果存在相同的系统订单号 重新生成一次，每冷重新生成系统订单号时间隔2秒，如果连续五次生成都重复就报错    /*    $num = M("order")->lock(true)->where("sysordernumber='" . $sysordernumber . "'")->count();    if ($num >= 1) {        if($n < 5){            sleep(2);            $n = $n + 1;            return Createsysordernumber($leng,$n);        }else{            return false;        }    }else{        return $sysordernumber;    }    */}function huoqumemberid($userid){    return M("secretkey")->where("userid=" . $userid)->getField("memberid");}