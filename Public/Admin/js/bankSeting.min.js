var tableIns;layui.use("table",function(){var a=layui.form;tableIns=layui.table.render({elem:"#Banklist",url:$("#Banklist").attr("dataurl"),cellMinWidth:80,cols:[[{type:"numbers"},{type:"checkbox"},{field:"bankname",title:"\u94f6\u884c\u540d\u79f0"},{field:"bankcode",title:"\u94f6\u884c\u7f16\u7801",sort:!0},{field:"datetime",title:"\u6dfb\u52a0\u65f6\u95f4",sort:!0},{field:"jiaoyi",title:"\u4ea4\u6613\u5e94\u7528",templet:"#jiaoyicheckbox"},{field:"jiesuan",title:"\u7ed3\u7b97\u5e94\u7528",templet:"#jiesuancheckbox"},{field:"id",title:"\u64cd\u4f5c",templet:"#caozuo"}]],page:!0,text:{none:"\u65e0\u6570\u636e"},method:"post"});a.on("switch(jiaoyicheckbox)",function(b){ajaxurl=$(this).attr("ajaxurl");datastr="id\x3d"+this.value+"\x26jiaoyi\x3d"+(b.elem.checked?1:0);$.ajax({type:"POST",url:ajaxurl,data:datastr,dataType:"text",success:function(a){"ok"==a?layer.tips("\u4fee\u6539\u6210\u529f",b.othis,{tips:[2,"#5FB878"]}):layer.tips("\u4fee\u6539\u5931\u8d25",b.othis,{tips:[3,"#FF5722"]})},error:function(a,b,d){}})});a.on("switch(jiesuancheckbox)",function(a){ajaxurl=$(this).attr("ajaxurl");datastr="id\x3d"+this.value+"\x26jiesuan\x3d"+(a.elem.checked?1:0);$.ajax({type:"POST",url:ajaxurl,data:datastr,dataType:"text",success:function(b){"ok"==b?layer.tips("\u4fee\u6539\u6210\u529f",a.othis,{tips:[2,"#5FB878"]}):layer.tips("\u4fee\u6539\u5931\u8d25",a.othis,{tips:[3,"#FF5722"]})},error:function(a,b,d){}})})});function member_del(a,b){layer.confirm("\u786e\u8ba4\u8981\u5220\u9664\u5417\uff1f",function(c){ajaxurl=$(a).attr("ajaxurl");datastr="id\x3d"+b;$.ajax({type:"POST",url:ajaxurl,data:datastr,dataType:"text",success:function(b){"ok"==b?($(a).parents("tr").remove(),layer.msg("\u5df2\u5220\u9664!",{icon:1,time:1E3})):layer.msg("\u5220\u9664\u5931\u8d25!",{icon:2,time:1E3})},error:function(a,b,c){alert("error")}})})}function searchbutton(){layui.use("table",function(){tableIns.reload({where:{bankname:$("#bankname").val(),bankcode:$("#bankcode").val(),jiaoyisearch:$("#jiaoyisearch").val(),jiesuansearch:$("#jiesuansearch").val()},page:{curr:1}})})}function qbsj(){layui.use("form",function(){var a=layui.form;$("#bankname").val("");$("#bankcode").val("");$("#jiaoyisearch").val("");$("#jiesuansearch").val("");a.render();searchbutton()})}function delAll(a){layer.confirm("\u786e\u8ba4\u8981\u5220\u9664\u5417\uff1f",function(b){layui.use("table",function(){var b=layui.table.checkStatus("Banklist").data;idstr="";for(j=0;j<b.length;j++)idstr+=b[j].id+",";idstr=idstr.substr(0,idstr.length-1);ajaxurl=$(a).attr("ajaxurl");datastr="idstr\x3d"+idstr;$.ajax({type:"POST",url:ajaxurl,data:datastr,dataType:"text",success:function(a){"ok"==a?(layer.msg("\u5220\u9664\u6210\u529f",{icon:1}),$(".layui-form-checked").not(".header").parents("tr").remove()):layer.msg("\u5220\u9664\u5931\u8d25!",{icon:2,time:1E3})},error:function(a,b,c){alert("error")}})})})};